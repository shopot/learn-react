---
sidebar_position: 17
---

# Фрагменты React

При работе с JSX в React существует важное ограничение: каждый компонент должен возвращать один корневой элемент. Это часто приводит к необходимости добавлять лишние элементы-обёртки, такие как `<div>` или `<span>`, даже когда они не нужны в разметке.

Рассмотрим пример компонента `Search`:

```tsx
// ...
export const Search = ({ search, onSearch }: SearchProps) => {
  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    onSearch(event.target.value);
  };

  return (
    <div>
      <label htmlFor="search">Search: </label>
      <input
        id="search"
        type="text"
        value={search} // Значение и пропсов
        onChange={handleChange} // Обработчик изменения поля ввода
      />
    </div>
  );
};
```

Здесь `<div>` служит только для соблюдения требований JSX, но не несёт смысловой нагрузки.

## Альтернативные решения

### Массив элементов

Один из способов избежать лишнего тега (корневого элемента в виде обертки) — это вернуть массив элементов:

```tsx
// ...
export const Search = ({ search, onSearch }: SearchProps) => {
  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    onSearch(event.target.value);
  };

  return [
    <label htmlFor="search">Search: </label>,
    <input
      id="search"
      type="text"
      value={search} // Значение и пропсов
      onChange={handleChange} // Обработчик изменения поля ввода
    />,
  ];
};
```

Однако у этого подхода есть недостатки:

- Требуется указывать атрибут key для каждого элемента.
- Код становится менее читаемым.
- Усложняется форматирование JSX.

### React Fragment


Возврат нескольких элементов из компонента является распространённой практикой в React. Фрагменты позволяют формировать список дочерних элементов, не создавая лишних узлов в DOM.

```tsx
export const Search = ({ search, onSearch }: SearchProps) => {
  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    onSearch(event.target.value);
  };

  return (
    <>
      <label htmlFor="search">Search: </label>
      <input
        id="search"
        type="text"
        value={search} // Значение и пропсов
        onChange={handleChange} // Обработчик изменения поля ввода
      />
    </>
  );
};
```

Фрагменты позволяют группировать несколько элементов без добавления лишних узлов в DOM. 
Синтаксис `<>...</> `— это сокращённая запись `<React.Fragment>...</React.Fragment>`.

Преимущества `React.Fragment`:

- Чистый DOM: не добавляют лишних элементов в разметку.
- Удобство: более чистый и читаемый код по сравнению с массивами.
- Гибкость: можно использовать ключи (с полным синтаксисом `<React.Fragment key={...}>`)
- Семантичность: явно показывают намерение группировки без влияния на вёрстку`

Примеры, когда можно использовать `React.Fragment`:

- Группировка нескольких элементов в компоненте.
- Создание списков без оборачивающих элементов.
- Для условного рендеринга нескольких элементов.
- Для работы с таблицами (где лишние `<div>` могут нарушить структуру).

## Заключение

**React Fragments** — это мощный инструмент для написания чистого и семантичного JSX без лишних обёрток.
Они помогают сохранить структуру DOM чистой, избегая ненужных вложенностей, и делают код более читаемым. 
В большинстве случаев фрагменты предпочтительнее массивов или лишних оборачивающих элементов.